# bookings - учебный проект на данных системы бронирования авиабилетов 
1.	В работе использовался локальный тип подключения.
    Восстановление базы данных производилось из avia.backup:
    Восстановление  успешно : присутствуют все 8 таблиц, таблицы имеют размер (на жестком диске), присутствует 1 представление и 1 материальное представление.
2.	ER-диаграмма из DBeaver: все связи в наличии.
3.	БД состоит из 8 таблиц, 1 представления, 1 материального представления.
Таблицы:                                   Представления: fligts_v 
aircrafts                                     Мат.представление:  routes
airports 
boarding_passes 
bookings 
fligts 
seats 
ticket_flights 
tickets 
4.Основной сущностью является бронирование (bookings).
      В одно бронирование можно включить несколько пассажиров, каждому из которых
   выписывается отдельный билет (tickets). Билет имеет уникальный номер и содержит
   информацию о пассажире. 
     Как таковой пассажир не является отдельной сущностью. Как имя, так и номер документа пассажира могут меняться с течением времени, так что невозможно однозначно найти все билеты одного человека; для простоты можно считать, что все пассажиры уникальны.
   Билет включает один или несколько перелетов (ticket_flights). Несколько перелетов могут
включаться в билет в случаях, когда нет прямого рейса, соединяющего пункты
отправления и назначения (полет с пересадками), либо когда билет взят «туда и обратно».
В схеме данных нет жесткого ограничения, но предполагается, что все билеты в одном
бронировании имеют одинаковый набор перелетов.
  Каждый рейс (flights) следует из одного аэропорта (airports) в другой. Рейсы с одним
номером имеют одинаковые пункты вылета и назначения, но будут отличаться датой
отправления.
  При регистрации на рейс пассажиру выдается посадочный талон (boarding_passes), в котором указано место в самолете. Пассажир может зарегистрироваться только на тот рейс, который есть у него в билете. Комбинация рейса и места в самолете должна быть уникальной, чтобы не допустить выдачу двух посадочных талонов на одно место.
  Количество мест (seats) в самолете и их распределение по классам обслуживания зависит
от модели самолета (aircrafts), выполняющего рейс. Предполагается, что каждая модель
самолета имеет только одну компоновку салона. Схема данных не контролирует, что места
в посадочных талонах соответствуют имеющимся в самолете (такая проверка может быть
сделана с использованием табличных триггеров или в приложении).

Таблицы: 
aircrafts –Самолет идентифицируется трехзначным кодом. Также присутствует код модели, модель, дальность полета.  

airports – Идентификация по коду и информация по названию, городу, координатам, временной зоне.

boarding_passes – выдается при регистрации на рейс, которая возможна за сутки до плановой даты отправления. Идентифицируется также, как и перелет -номером билета и номером рейса. Информация по номеру талона, номеру места

bookings – Пассажир заранее (book_date, максимум за месяц до рейса) бронирует билет себе и, возможно, нескольким другим пассажирам. Бронирование идентифицируется номером
(book_ref, шестизначная комбинация букв и цифр). 
Информация о дате брони и полной сумме всех билетов в брони.

fligts - Рейс всегда соединяет две точки — аэропорты вылета (departure_airport) и прибытия
(arrival_airport). Такое понятие, как «рейс с пересадками» отсутствует: если из одного
аэропорта до другого нет прямого рейса, в билет просто включаются несколько необходимых
рейсов.
У каждого рейса есть запланированные дата и время вылета (scheduled_departure) и прибытия
(scheduled_arrival). Реальные время вылета (actual_departure) и прибытия (actual_arrival)
могут отличаться: обычно не сильно, но иногда и на несколько часов, если рейс задержан.
Содержит информацию о номере рейса, времени вылета по расписанию, времени прилета по расписанию, аэропорте отправления, аэропорте прибытия, статусе рейса, коде самолета, фактическом времени вылета, фактическом времени прилета)

seats – Места определяют схему салона каждой модели. Каждое место определяется своим номером (seat_no) и имеет закрепленный за ним класс обслуживания (fare_conditions) — Economy, Comfort или Business, а также код самолета

ticket_flights – Соединение билета с рейсом. Идентифицируется номером билета и номером рейса в комбинации. Содержит также информацию о классе обслуживания, стоимости перелета.

tickets – Билет имеет уникальный номер. Таблица также содержит информацию о номере бронирования, id, имени и контактах пассажира

Представления:
fligts_v – здесь содержится дополнительная информация о полетах (расшифровка данных об аэропорте вылета и прибытия-код, название, город, данные о времени вылета и прилета – планируемое и фактическое местное время, фактическая продолжительность полета)

Мат.представление: 
routes – вариант «разгрузки» таблицы fligts от констант, не зависящих от конкретных дат рейсов (выделение в отдельную логику информации о маршруте – номер рейса, коды, названия и города аэропортов отправления и прибытия, код самолета, продолжительность полета, дни недели рейсов)

С помощью представленной БД можно предложить решение следующих бизнес-задач:

1)	Сбор статистики бронирования перелетов по каждому пассажиру, оформлявшему бронь для себя или для себя и других пассажиров (часто встречающиеся перелеты пассажира) для настройки рассылки с предложениями скидок на перелеты в любимые города. Сделать это в данной БД возможно, т.к. условно именно в этой БД считаем, что пассажиры уникальны. 

2)	Распределить клиентов бронирования на возрастные группы. Отдел маркетинга сможет подобрать привилегии для удержания клиентов согласно возраста клиента.  

3)	Определить часто летающих пассажиров и предложить им программу накопления миль.

4)	Выявить забронированные, но не выкупленные авиабилеты по рейсам, самолетам, местам классов обслуживания. Выдвинуть и проверить гипотезы неполной конверсии брони в покупку для принятия соответствующих мер. Возможна разбивка по месяцам бронирования.  
